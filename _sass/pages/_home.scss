@use "../variables";
@use "sass:map";

// vertical layout for small screen spaces
@media (max-width: map.get($grid-breakpoints, "lg")) {
  .main-with-sidebar {
    width: 100%;
    max-width: 100%;
    overflow-x: hidden;
    display: flex;
    flex-flow: column nowrap;
    padding: 0 2em;
  }
}

// side-by-side for larger screen spaces
@media (min-width: map.get($grid-breakpoints, "lg")) {
  .main-with-sidebar {
    display: grid;
    grid-template-columns: [left-margin] minmax(2em, 3fr) [main] minmax(calc(map.get($grid-breakpoints, "lg") - 400px - 4em), 1280px) [right-margin] minmax(1em, 1fr) [aside] minmax(300px, 400px);
    grid-template-rows: [main] auto;
  
    main {
      grid-column: main;
      grid-row: main;
    }
  
    aside {
      grid-column: aside;
      grid-row: main;

      padding-left: 1em;
      background-color: #f5f5f5;
      box-shadow: -3px 0 6px rgba(0,0,0,.2);
    }
  }
}